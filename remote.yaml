anchors:
  spacer: &spacer
    type: 'custom:button-card'
    color_type: blank-card
    styles:
      card:
        - width: 2px
  bigspacer: &bigspacer
    type: 'custom:button-card'
    color_type: blank-card
    styles:
      card:
        - width: 30px
  halfspacer: &halfspacer
    type: 'custom:button-card'
    color_type: blank-card
    styles:
      card:
        - width: 15px
  activity_button: &activitybutton
    color_type: card
    show_name: false
    entity: sensor.harmony_hub
    styles:
      card:
        - background: 'rgba(255,255,255,0.45)'
        - width: 90px
        - height: 90px
        - border-radius: 50%
      icon:
        - width: 55px
        - color: '#303741'
    type: 'custom:button-card'
  skip_button: &skipbutton
    show_label: false
    color_type: blank-card
    styles:
      card:
        # - background: 'rgba(255,255,255,0.45)'
        - width: 60px
        - height: 60px
        - border-radius: 50%
      # icon:
      #   - width: 35px
      #   - color: '#303741'
      # label:
      #   - font-size: 13px
      #   - color: '#303741'
      #   - padding-bottom: 3px
    type: 'custom:button-card'
  action_button: &actionbutton
    color_type: card
    show_name: false
    entity: sensor.harmony_hub
    styles:
      card:
        - background: 'rgba(255,255,255,0.45)'
        - width: 75px
        - height: 75px
        - border-radius: 50%
      icon:
        - width: 60px
        - color: '#303741'
    type: 'custom:button-card'
  blank_button: &blankbutton
    type: 'custom:button-card'
    color_type: blank-card
    styles:
      card:
        - width: 75px
  activity_off: &activityoff
    operator: default
    styles:
      icon:
        - color: '#303741'
  activity_on: &activityon
    styles:
      icon:
        - color: 'rgb(255,255,255)'
      card:
        - background: 'rgb(0,128,0)'
background: center / cover no-repeat url("/local/images/remote-background.jpg") fixed
badges: []
cards:
  - type: custom:card-loader
    wait:
      - button-card
    card:
      type: vertical-stack
      cards:
      #Activity buttons
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            color_type: blank-card
          - <<: *activitybutton
            icon: 'mdi:power'
            label: "Power Off"
            show_label: false
            tap_action:
              action: call-service
              service: remote.turn_on
              service_data:
                entity_id: remote.living_room
                activity: "PowerOff"
          - <<: *activitybutton
            icon: 'mdi:television-classic'
            state:
              - value: "Living Room Watch TV"
                color: 'rgb(39,255,7)'
                <<: *activityon
              - <<: *activityoff
            label: "Watch TV"
            show_label: false
            tap_action:
              action: call-service
              service: remote.turn_on
              service_data:
                entity_id: remote.living_room
                activity: "Living Room Watch TV"
          - <<: *activitybutton
            icon: 'mdi:alpha-r-box'
            state:
              - value: "Living Room Watch Roku"
                color: 'rgb(39,255,7)'
                <<: *activityon
              - <<: *activityoff
            label: "Watch Roku"
            show_label: false
            tap_action:
              action: call-service
              service: remote.turn_on
              service_data:
                entity_id: remote.living_room
                activity: "Living Room Watch Roku"
          - type: 'custom:button-card'
            color_type: blank-card

      #Watch TV controls
      - type: conditional
        conditions:
          - entity: sensor.harmony_hub
            state: "Living Room Watch TV"
        card:
            type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    color_type: blank-card
                  - <<: *bigspacer
                  - <<: *halfspacer
                  - <<: *actionbutton
                    icon: 'mdi:layers-outline'
                    label: "Guide"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Guide
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:video-vintage'
                    label: "DVR"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: RecordedTV
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:record-rec'
                    label: "REC"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Record
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:exit-to-app'
                    label: "Exit"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Exit
                  - <<: *blankbutton
                  - <<: *bigspacer
              - type: 'custom:button-card'
                color_type: blank-card
              - type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    color_type: blank-card
                  - <<: *bigspacer
                  - <<: *actionbutton
                    icon: 'mdi:replay'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Back
                  - <<: *bigspacer
                  - <<: *halfspacer
                  - <<: *spacer
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:arrow-up-thick'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: DirectionUp
                  - <<: *skipbutton
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:arrow-up-drop-circle-outline'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Yamaha AV Receiver"
                        command: VolumeUp
                  - <<: *blankbutton
                  - type: 'custom:button-card'
                    color_type: blank-card
              - type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    color_type: blank-card
                  - <<: *halfspacer
                  - <<: *spacer
                  - <<: *blankbutton
                  - <<: *actionbutton
                    icon: 'mdi:arrow-left-thick'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: DirectionLeft
                  - <<: *actionbutton
                    show_label: true
                    show_icon: false
                    label: 'OK'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Select
                  - <<: *actionbutton
                    icon: 'mdi:arrow-right-thick'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: DirectionRight
                  - <<: *actionbutton
                    icon: 'mdi:arrow-down-drop-circle-outline'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Yamaha AV Receiver"
                        command: VolumeDown
                  - <<: *spacer
                  - <<: *spacer
                  - <<: *spacer
                  - type: 'custom:button-card'
                    color_type: blank-card
              - type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    color_type: blank-card
                  - <<: *skipbutton
                  - <<: *blankbutton
                  - <<: *spacer
                  - <<: *spacer
                  - <<: *actionbutton
                    icon: 'mdi:arrow-down-thick'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: DirectionDown
                  - <<: *blankbutton
                  - <<: *actionbutton
                    icon: 'mdi:microphone-off'
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Yamaha AV Receiver"
                        command: Mute
                  - type: 'custom:button-card'
                    color_type: blank-card
              - type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    color_type: blank-card
                  - <<: *actionbutton
                    <<: *skipbutton
                    icon: 'mdi:skip-backward'
                    label: "7s"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: SkipBack
                  - <<: *spacer
                  - <<: *actionbutton
                    <<: *skipbutton
                    icon: 'mdi:play'
                    label: "Play"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: Play
                  - <<: *spacer
                  - <<: *actionbutton
                    <<: *skipbutton
                    icon: 'mdi:skip-forward'
                    label: "30s"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: SkipForward
                  - <<: *spacer
                  - <<: *actionbutton
                    <<: *skipbutton
                    icon: 'mdi:fast-forward'
                    label: "FF"
                    tap_action:
                      action: call-service
                      service: remote.send_command
                      service_data:
                        entity_id: remote.living_room
                        device: "Cisco DVR"
                        command: FastForward
                  - <<: *blankbutton
                  - type: 'custom:button-card'
                    color_type: blank-card
              - type: entities
                entities:
                  - input_select.sleep_timer
      #Netflix controls
      - type: conditional
        conditions:
          - entity: sensor.harmony_hub
            state: "Living Room Watch Roku"
        card:
          type: vertical-stack
          cards:
            - type: 'custom:roku-card'
              entity: media_player.living_room_roku_2
              remote: remote.living_room_roku
              tv: "true"
              apps:
                - id: Netflix
                  icon: /local/images/netflix.jpg
                - id: Hulu
                  icon: /local/images/hulu.jpg
                - id: YouTube
                  icon: /local/images/youtube.png
                - id: HISTORY
                  icon: /local/images/history-channel-logo.jpg
                - id: ESPN
                  icon: /local/images/espn-logo.jpg
                - id: Prime Video
                  icon: /local/images/prime.jpg
                - id: Pluto TV
                  icon: /local/images/plutotv.jpg
            - type: entities
              entities:
                - input_select.roku_source
            - type: entities
              entities:
                - input_select.sleep_timer
            
icon: 'mdi:remote'
title: Remote
path: remote
